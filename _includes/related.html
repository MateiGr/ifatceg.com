{% assign first_tag = page.tags | first %}

{% assign related_posts = site.posts | where_exp: "post", "post.tags.first == first_tag" | limit: 5 %}

{% if related_posts.size > 0 %}
<div class="related-posts">
  <h3>Other posts about {{ first_tag }}:</h3>
  <ul>
    {% for post in related_posts %}
      {% if post.url != page.url %}
        <li><a href="{{ post.url }}">{{ post.title }}</a></li>
      {% endif %}
    {% endfor %}
  </ul>
</div>
{% endif %}
